## conformance_test.py

### Run clang-tidy on NumCSE codes and filter out warnings from selected third-party includes. 

Comitted a first version of a custom clang-tidy script for the NumCSE repository. It is too heavy to run on a large portion of the repository. It also relies heavily on cmake's 'Generate' output 'compile_commands.json', mostly because clang-tidy needs those to understand includes. The script uses a custom suppression mechanism for warnings generated by clang-tidy about matplotlibcpp and Eigen, which cannot (at least I was not able to figure it out) be ignored with the usual techniques used in clang-tidy. This is probably owed to the way we include those libraries. 

Usage is documented in the file itself, however here is minimal example which should work without errors:

 1. Change directory to your build folder (wherever cmake outputs binaries, most likely directly in your repository)
 2. Run `python ~/repositories/NumCSE/Clang-tidy/conformance_test.py -d ~/repositories/NumCSE/LectureCodes/EigenTutorial/`.

(Possibly, you have to modify the paths so they point to the NumCSE repository).

This will run only clang-tidy on all the Eigen tutorial lecture codes and apply appropriate filters. 

#### Usage 
`python conformance_test.py [-f <file> |-d <directory>] [-p <build_directory>] [--no_filter] [--format]`
- `-f`: process only a single file `<file>`
- `-d`: process a whole directory `<directory>`
-   neither `-f` nor `-d`: process the working directory
-   `-p`: specify the build directory `<build_directory>`, **default**: working directory
- `--no_filter`: do not filter out irrelevant warnings
- `--format`: additionally run clang-format on all processed files

#### Do we need this?

We want to run static analyzer checks on the C++ codes. Clang-tidy is, in principle, the best tool for the job. However, it produces warnings for calls into some included header libraries we do not want to analyze. The //NOLINT annotations in clang-tidy can solve that problem for code with only a few calls into these libraries, but not for the vast amount of calls in the NumCSE code. It would require manual editing of practically every source file, just to ignore warnings. All the standard ways to exclude output in clang-tidy, such as -header-filter, do not work here. So naturally, post-processing clang-tidy output is an option. 

It might be possible to trick clang-tidy into thinking these libraries are system headers. This can be done by replacing the respective includes in the 'compile_commands.json' by -isystem. If it is possible to do that before cmake runs clang-tidy, we could improve the current situation a lot. The Cmake SYSTEM flag in add_directory does exactly that and runs static checks next to building. Now we are only missing a stand-alone invocation of clang-tidy from Cmake.